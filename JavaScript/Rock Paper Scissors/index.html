<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Rock Paper Scissors</title>
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
	<!--- Just a div to add a nice gradient -->
	<div id="background">
	<div class="container">
		<div class="inner-container">
			<h3>Choose Your Weapon</h3>
			<div id="rps">
				<div class="rock" onclick="rock()"><img src="Images/rock.png" draggable="false" style="-moz-user-select: none;"><p>Rock</p></div>
				<div class="paper" onclick="paper()"><img src="Images/paper.png" draggable="false" style="-moz-user-select: none;"><p>Paper</p></div>
				<div class="scissors" onclick="scissors()"><img src="Images/scissors.png" draggable="false" style="-moz-user-select: none;"><p>Scissors</p></div>
			</div>
			<div>
				<p id="hide-unhide">The computer chose <span id="choice"></span></p>
				<span id="result"></span>
			</div>
		</div>
	</div>
	</div>

<script type="text/javascript">
	let randomChoice;
	let score = 0;
	let elemOpacity = 0;
	let playerChoice;
	const win = "You won!";
	const loss = "You lost!";
	const draw = "It's a draw!";
	var hideUnhide = document.getElementById('hide-unhide');
	var result = document.getElementById('result');
	var choice = document.getElementById('choice');

	var allChoices = {
		0: 'rock',
		1: 'paper',
		2: 'scissors'
	}

	//Makes the text invisible (at the start of the game)
	hideUnhide.style.opacity = 0;

	// Will change the variable onclick and call the other functions
	function rock() {
		playerChoice = 'rock';
		aiChoice();
		gameResult();
		elemOpacity = 0;
		fadeIn();
	}
	function paper() {
		playerChoice = 'paper';
		aiChoice();
		gameResult();
		elemOpacity = 0;
		fadeIn();
	}
	function scissors() {
		playerChoice = 'scissors';
		aiChoice();
		gameResult();
		elemOpacity = 0;
		fadeIn();
	}
	//Generates a random number and uses it with the dictionary
	function aiChoice() {
		randomChoice = Math.floor(Math.random() * 3);
		choice.innerText = allChoices[randomChoice];
	}

	//Final game result
	function gameResult() {
		//Scissors
		if (randomChoice == 1 && playerChoice == 'scissors') {
			result.innerText = win;
		} else if (randomChoice == 2 && playerChoice == 'scissors') {
			result.innerText = draw;
		} else if (randomChoice == 0 && playerChoice == 'scissors') {
			result.innerText = loss;
		}
		//Paper
		if (randomChoice == 0 && playerChoice == 'paper') {
			result.innerText = win;
		} else if (randomChoice == 1 && playerChoice == 'paper') {
			result.innerText = draw;
		} else if (randomChoice == 2 && playerChoice == 'paper') {
			result.innerText = loss;
		}
		//Rock
		if (randomChoice == 2 && playerChoice == 'rock') {
			result.innerText = win;
		} else if (randomChoice == 0 && playerChoice == 'rock') {
			result.innerText = draw;
		} else if (randomChoice == 1 && playerChoice == 'rock') {
			result.innerText = loss;
		}
	}

	function fadeIn() {
		if (elemOpacity<1) {
			elemOpacity += .01;
			setTimeout(function(){fadeIn()}, 5);
		}
		hideUnhide.style.opacity = elemOpacity;
		result.style.opacity = elemOpacity;
	}

</script>
</body>
</html>